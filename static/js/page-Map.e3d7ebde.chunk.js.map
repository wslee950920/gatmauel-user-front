{"version":3,"sources":["components/map/KakaoBtn.jsx","components/map/index.js","components/common/Cirular/index.js","page/Map/index.js","lib/windowDimensions.js","lib/usePlatform.js"],"names":["useStyles","makeStyles","theme","root","display","flexDirection","justifyContent","margin","spacing","kakaoBtn","padding","btnRoot","minWidth","btn","React","memo","platform","classes","naverMap","useCallback","clickedAt","Date","IorA","navigator","userAgent","toLowerCase","indexOf","window","location","href","encodeURI","setTimeout","kakaoMap","useEffect","Kakao","kakao","isInitialized","init","process","Link","createDefaultButton","container","objectType","content","title","description","imageUrl","link","mobileWebUrl","webUrl","buttons","className","Button","text","size","onClick","target","src","alt","id","map","width","height","Map","navermaps","naver","maps","useWindowDimensions","useTheme","matches","useMediaQuery","breakpoints","up","usePlatform","CssBaseline","Container","maxWidth","disableGutters","style","parseInt","clsx","mapDivId","defaultCenter","lat","lng","defaultZoom","key","position","LatLng","animation","alignItems","CircularProgress","MapPage","script","document","createElement","async","head","appendChild","removeChild","main","ncpClientId","error","loading","getWindowDimensions","innerWidth","innerHeight","useState","windowDimensions","setWindowDimensions","handleResize","addEventListener","removeEventListener","filter","useRef","useMemo","current"],"mappings":"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","file":"static/js/page-Map.e3d7ebde.chunk.js","sourcesContent":["import React, {useEffect, useCallback}  from 'react';\n\nimport {makeStyles} from '@material-ui/core/styles';\nimport Button from \"@material-ui/core/Button\";\n\nconst useStyles=makeStyles((theme)=>({\n  root:{\n    display:'flex',\n    flexDirection:'row',\n    justifyContent:'flex-end',\n    margin:theme.spacing(1),\n  },\n  kakaoBtn: {\n    padding: 0,\n  },\n  btnRoot:{\n    minWidth:0\n  },\n  btn:{\n    margin:theme.spacing(0, 0.5),\n  }\n}))\n\nconst KakaoBtn=({platform})=>{\n    const classes=useStyles();\n    \n    const naverMap=useCallback(()=>{\n      const clickedAt = +new Date();\n      const IorA = navigator.userAgent.toLowerCase();\n\n      if(IorA.indexOf(\"android\") !== -1){\n        // android 일 때\n        window.location.href=`intent://search?query=${encodeURI('갯마을바지락칼국수보쌈')}&appname=https://wslee950920.github.io/gatmauel-user-front#Intent;scheme=nmap;action=android.intent.action.VIEW;category=android.intent.category.BROWSABLE;package=com.nhn.android.nmap;end`\n      }else if(IorA.indexOf(\"iphone\") !== -1){\n        // iphone 일 때\n        window.location.href = `nmap://search?query=${encodeURI('갯마을바지락칼국수보쌈')}&appname=https://wslee950920.github.io/gatmauel-user-front`;\n      }\n\n      setTimeout(function() {\n        if (+new Date() - clickedAt < 2000) {\n          window.location.href = 'http://itunes.apple.com/app/id311867728?mt=8';\n        }\n      }, 1500);\n    }, [])\n    const kakaoMap=useCallback(()=>{\n      const clickedAt = +new Date();\n      const IorA = navigator.userAgent.toLowerCase();\n\n      window.location.href='kakaomap://place?id=1299223701';\n\n      setTimeout(function() {\n        if (+new Date() - clickedAt < 2000) {\n          if(IorA.indexOf(\"android\") !== -1){\n            // android 일 때\n            window.location.href='market://details?id=net.daum.android.map'\n          }else if(IorA.indexOf(\"iphone\") !== -1){\n            // iphone 일 때\n            window.location.href = 'https://apps.apple.com/us/app/id304608425';\n          }\n        }\n      }, 1500);\n    }, [])\n\n    useEffect(()=>{\n      if (window.Kakao) {\n        const kakao = window.Kakao\n        // 중복 initialization 방지\n        if (!kakao.isInitialized()) {\n          kakao.init(process.env.REACT_APP_KAKAO_JS_KEY)\n        }\n        kakao.Link.createDefaultButton({\n          // Render 부분 id=kakao-link-btn 을 찾아 그부분에 렌더링을 합니다\n          container: '#kakao-link-btn',\n          objectType: 'feed',\n          content: {\n            title: '갯마을바지락칼국수보쌈',\n            description: '#칼국수 #보쌈 #당수동 #맛집',\n            imageUrl: 'https://raw.githubusercontent.com/wslee950920/gatmauel-user-front/master/public/images/icons/logo192.png', //추후 s3에서 가져오자\n            link: {\n              mobileWebUrl: process.env.REACT_APP_COMM_URL,\n              webUrl: process.env.REACT_APP_COMM_URL,\n            },\n          },\n          buttons: [\n            {\n              title: '홈페이지 방문하기',\n              link: {\n                mobileWebUrl: process.env.REACT_APP_COMM_URL,\n                webUrl: process.env.REACT_APP_COMM_URL,\n              },\n            },\n          ],\n        })\n      }\n    }, []);\n\n    return(\n      <div className={classes.root}>\n        <Button \n          className={classes.btn} \n          classes={{ root:classes.btnRoot, text: classes.kakaoBtn }} \n          size='small'\n          onClick={()=>{\n            if(platform){\n              naverMap();\n            }\n          }}\n          {...(!platform?\n            {\n              href:process.env.REACT_APP_NAVER_MAP_URL,\n              target:'self'\n            }:{})\n          }\n        >\n            <img \n              src=\"images/icons/naver_map.png\" \n              alt=\"naver-navi-icon\" \n            />\n        </Button>\n        <Button \n          className={classes.btn} \n          classes={{ root:classes.btnRoot, text: classes.kakaoBtn }} \n          size='small'\n          onClick={()=>{\n            if(platform){\n              kakaoMap();\n            }\n          }}\n          {...(!platform?\n            {\n              href:process.env.REACT_APP_KAKAO_MAP_URL,\n              target:'self'\n            }:{})\n          }\n        >\n            <img \n              src=\"images/icons/kakao_map.png\" \n              alt=\"kakao-navi-icon\" \n            />\n        </Button>\n        <Button \n          id=\"kakao-link-btn\" \n          className={classes.btn} \n          classes={{ root:classes.btnRoot, text: classes.kakaoBtn }} \n          size='small'\n        >\n            <img \n              src=\"images/icons/kakaolink_btn_small.png\" \n              alt=\"kakao-share-icon\" \n            />\n        </Button>  \n      </div>\n    )\n}\n\nexport default React.memo(KakaoBtn);","import React from \"react\";\nimport { NaverMap, Marker } from \"react-naver-maps\";\nimport useWindowDimensions from \"../../lib/windowDimensions\";\nimport clsx from \"clsx\";\n\nimport Container from \"@material-ui/core/Container\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\nimport KakaoBtn from \"./KakaoBtn\";\nimport Footer from \"../../components/footer\";\n\nimport usePlatform from \"../../lib/usePlatform\";\n\nconst useStyles = makeStyles((theme) => ({\n  map: {\n    width: \"100%\", // 네이버지도 가로 길이\n    height: \"60vh\", // 네이버지도 세로 길이\n  },\n}));\n\nconst Map = () => {\n  const navermaps = window.naver.maps;\n  const classes = useStyles();\n  const { height } = useWindowDimensions();\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.up(\"sm\"));\n  const platform = usePlatform();\n\n  return (\n    <>\n      <CssBaseline />\n      <Container\n        maxWidth=\"md\"\n        disableGutters\n        style={{\n          height: height - 56 - 57.43 - parseInt(clsx(matches ? 8 : \"0\")),\n        }}\n      >\n        <NaverMap\n          mapDivId={\"gatmauel-map\"}\n          className={classes.map}\n          defaultCenter={{ lat: 37.29274, lng: 126.941063 }} // 지도 초기 위치\n          defaultZoom={16} // 지도 초기 확대 배율\n          style={{ height: \"60vh\" }}\n        >\n          <Marker\n            key={1}\n            position={new navermaps.LatLng(37.29274, 126.941063)}\n            animation={2}\n          />\n        </NaverMap>\n        <KakaoBtn platform={platform} />\n      </Container>\n      <Footer />\n    </>\n  );\n};\n\nexport default Map;\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst Circular = ({ height }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root} style={{ height: height }}>\n      <CircularProgress />\n    </div>\n  );\n};\n\nexport default React.memo(Circular);\n","import React, { useEffect } from \"react\";\nimport { RenderAfterNavermapsLoaded } from \"react-naver-maps\";\n\nimport Map from \"../../components/map\";\nimport Circular from \"../../components/common/Cirular\";\nimport Header from \"../../components/header\";\n\nconst MapPage = () => {\n  useEffect(() => {\n    const script = document.createElement(\"script\");\n    script.src = \"https://developers.kakao.com/sdk/js/kakao.js\";\n    script.async = true;\n    document.head.appendChild(script);\n\n    return () => {\n      document.head.removeChild(script);\n    };\n  }, []);\n\n  return (\n    <>\n      <Header main />\n      <RenderAfterNavermapsLoaded\n        ncpClientId={process.env.REACT_APP_NAVER_MAP_CLIENT}\n        error={<p>Maps Load Error</p>}\n        loading={<Circular height=\"60vh\" />}\n      >\n        <Map />\n      </RenderAfterNavermapsLoaded>\n    </>\n  );\n};\n\nexport default MapPage;\n","import { useState, useEffect } from \"react\";\n\nconst getWindowDimensions = () => {\n  const { innerWidth: width, innerHeight: height } = window;\n\n  return {\n    width,\n    height,\n  };\n};\n\nexport default function useWindowDimensions() {\n  const [windowDimensions, setWindowDimensions] = useState(\n    getWindowDimensions()\n  );\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n\n    window.addEventListener(\"resize\", handleResize);\n    //뒷정리\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  return windowDimensions;\n}\n","import { useMemo, useRef } from \"react\";\n\nconst usePlatform = () => {\n  const filter = useRef(\"win16|win32|win64|macintel|mac|\");\n\n  const platform = useMemo(() => {\n    return (\n      navigator.platform &&\n      filter.current.indexOf(navigator.platform.toLowerCase()) < 0\n    );\n  }, []);\n\n  return platform;\n};\n\nexport default usePlatform;\n"],"sourceRoot":""}